<div class="procurement-page">
    <div class="page-header">
        <h1 class="page-title">ğŸ›’ æ¡è³¼ç®¡ç†</h1>
        <p class="page-subtitle">ç®¡ç†æ¨™å–®é …ç›®çš„æ¡è³¼ä¸‹å–®ã€åˆ°è²¨è¿½è¹¤èˆ‡ä¾›æ‡‰å•†å ±åƒ¹ã€‚</p>
    </div>

    <div class="content-card filter-section">
        <div class="filter-row">
            <div class="form-group">
                <label for="projectSelect">ğŸ“ é¸æ“‡å°ˆæ¡ˆ</label>
                <select id="projectSelect" class="form-control">
                    <option value="">è¼‰å…¥ä¸­...</option>
                </select>
            </div>
            <div class="form-group">
                <label for="tenderSelect">ğŸ“‹ é¸æ“‡æ¨™å–®</label>
                <select id="tenderSelect" class="form-control" disabled>
                    <option value="">è«‹å…ˆé¸æ“‡å°ˆæ¡ˆ</option>
                </select>
            </div>
            <div class="form-group">
                <label for="majorItemSelect">ğŸ”§ ç¯©é¸å¤§é … (å¯é¸)</label>
                <select id="majorItemSelect" class="form-control" disabled>
                    <option value="">æ‰€æœ‰å¤§é …ç›®</option>
                </select>
            </div>
        </div>
    </div>

    <div id="loading" class="loading" style="display: none;">
        <div class="spinner"></div>
        <p>è¼‰å…¥æ¡è³¼è³‡æ–™ä¸­...</p>
    </div>

    <div id="emptyState" class="empty-state" style="display: flex;">
        <div class="empty-state-icon">ğŸ›’</div>
        <h3>è«‹é¸æ“‡å°ˆæ¡ˆèˆ‡æ¨™å–®</h3>
        <p>è«‹å¾ä¸Šæ–¹é¸æ“‡æ¨™å–®ä»¥é–‹å§‹ç®¡ç†æ¡è³¼ä½œæ¥­ã€‚</p>
    </div>

    <div id="mainContent" style="display: none;">

                <div class="stat-card">
                    <div class="stat-number" id="orderedCount">0</div>
                    <div class="stat-label">å·²ä¸‹å–®</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="arrivedCount">0</div>
                    <div class="stat-label">å·²åˆ°è²¨</div>
                </div>
            </div>
        </div>

        <div class="content-card">
            <div class="card-header-actions">
                <h3 class="content-subtitle">ğŸ“ æ¡è³¼é …ç›®æ¸…å–®</h3>
                
                <div class="action-buttons" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    
                    <input type="file" id="importQuotesInput" accept=".xlsx,.xls" style="display: none;">

                    <button id="exportRfqBtn" class="btn btn-outline-secondary btn-sm" title="åŒ¯å‡ºè©¢åƒ¹å–®">
                        <i class="fas fa-file-export"></i> åŒ¯å‡ºè©¢åƒ¹å–®
                    </button>

                    <button id="importQuotesBtn" class="btn btn-outline-secondary btn-sm" title="åŒ¯å…¥å ±åƒ¹å–®">
                        <i class="fas fa-file-import"></i> åŒ¯å…¥å ±åƒ¹å–®
                    </button>

                    <button id="manageQuotesBtn" class="btn btn-outline-primary btn-sm">
                        <i class="fas fa-file-invoice-dollar"></i> ç®¡ç†ä¾›æ‡‰å•†å ±åƒ¹
                    </button>

                    <button id="deleteOrderBtn" class="btn btn-outline-danger btn-sm" style="display: none;">
                        <i class="fas fa-trash-alt"></i> åˆªé™¤å–®æ“š
                    </button>
                </div>
            </div>
            
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th style="width: 5%;">é …æ¬¡</th>
                            <th style="width: 25%;">é …ç›®åç¨±</th>
                            <th style="width: 8%;">å–®ä½</th>
                            <th style="width: 8%;" class="text-right">æ•¸é‡</th>
                            <th style="width: 20%;">æ¡è³¼ç‹€æ…‹ (é»æ“Šåˆ‡æ›)</th>
                            <th style="width: 25%;">ä¾›æ‡‰å•†å ±åƒ¹ (é»æ“Šé¸æ“‡)</th>
                            <th style="width: 9%;" class="text-right">æˆæœ¬å–®åƒ¹</th>
                        </tr>
                    </thead>
                    <tbody id="procurementTableBody">
                        </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<div id="manageQuotesModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">ç®¡ç†ä¾›æ‡‰å•†å ±åƒ¹</h3>
            <button type="button" class="close-modal-btn" data-action="close-modal">&times;</button>
        </div>
        <div class="modal-body">
            <p class="text-muted">æ­¤è™•åˆ—å‡ºç›®å‰å·²åŒ¯å…¥å ±åƒ¹çš„ä¾›æ‡‰å•†ã€‚æ‚¨å¯ä»¥åˆªé™¤ç‰¹å®šä¾›æ‡‰å•†çš„å ±åƒ¹ç´€éŒ„ã€‚</p>
            <div id="supplierQuotesList" class="list-group mt-3">
                </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-action="close-modal">é—œé–‰</button>
        </div>
    </div>
</div>

<style>
    @media (min-width: 768px) {
        .procurement-page, 
        .filter-section, 
        #mainContent {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }
        
        .filter-row {
            display: flex !important;
            flex-wrap: wrap;
            gap: 15px;
        }
    }

    .card-header-actions {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
        flex-wrap: wrap;
        gap: 10px;
    }
    
    /* é¿å…æ‰‹æ©Ÿç‰ˆæŒ‰éˆ•æ“ åœ¨ä¸€èµ· */
    @media (max-width: 768px) {
        .card-header-actions {
            flex-direction: column;
            align-items: flex-start;
        }
        .action-buttons {
            width: 100%;
            justify-content: flex-start;
            margin-top: 10px;
        }
    }
</style>
